<h3>Create Coupon:</h3><br>

<div class="row">

<div class="col-md-6">
  <form>
    <div class="form-group row">
        <label for="couponTitle" class="col-sm-3 col-form-label">Enter Coupon Title:</label>
        <div class="col-sm-8">
        <input 
          required   
          name="couponTitleTXT"  
          #couponTitleTXT="ngModel"        
          type="text" 
          placeholder="Coupon Title" 
          class="form-control" 
          [(ngModel)]="newCoupon.title"/> 
            <div class="alert alert-danger" *ngIf="couponTitleTXT.touched && !couponTitleTXT.valid">Coupon Title is required!</div>         
      </div>
    </div>
    <div class="form-group row">        
        <label for="comment" class="col-sm-3 col-form-label">Enter startDate:</label>
        <div class="col-sm-6">
        <input 
          required
          #startDate="ngModel"
          name="startDate" 
          type="date" 
          placeholder="Enter startDate" 
          class="form-control" 
          [(ngModel)]="newCoupon.startDate" />
          <div class="alert alert-danger" *ngIf="startDate.touched && startDate.invalid">
            Start Date is Required.
          </div>
    </div>
    </div>
    <div class="form-group row">        
        <label for="comment" class="col-sm-3 col-form-label">Enter endDate:</label>
        <div class="col-sm-6">
        <input 
          required
          #endDate="ngModel"
          name="endDate" 
          type="date" 
          placeholder="Enter endDate" 
          class="form-control" 
          [(ngModel)]="newCoupon.endDate" />
          <div class="alert alert-danger" *ngIf="endDate.touched && endDate.invalid">
              End Date is Required.
            </div>
        </div>
    </div>
    <div class="form-group row">
      <label for="comment" class="col-sm-3 col-form-label">Enter Amount:</label>
      <div class="col-sm-6">
      <input 
        required
        #amount="ngModel"
        name="AmountNumber" 
        type="number" 
        placeholder="Enter Amount" 
        class="form-control" 
        [(ngModel)]="newCoupon.amount" />
        <div class="alert alert-danger" *ngIf="amount.touched && amount.invalid">
          Amount is Required.
        </div>
      </div>
    </div>
    <div class="form-group row">
        <label for="listOfTypes" class="col-sm-3 col-form-label">Select Coupon Type:</label>
        <div class="col-sm-6">
          <select  
            required
            #type="ngModel"
            name="listOfTypes" 
            id="listOfTypes" 
            class="form-control" 
            [(ngModel)]="newCoupon.type">
              <option                
                *ngFor="let _type of listOfTypes" 
                [value]="_type.type">
                  {{ _type.type }}
              </option>
          </select>
          <div class="alert alert-danger" *ngIf="type.touched && type.invalid">
            Coupon Type is Required.
            </div>
      </div>
    </div>
    <div class="form-group row">
        <label for="comment" class="col-sm-3 col-form-label">Enter Message:</label>
        <div class="col-sm-6">
        <input 
          name="MessageTXT" 
          type="text" 
          placeholder="Enter Message" 
          class="form-control" 
          [(ngModel)]="newCoupon.message" />
        </div>
    </div>
    <div class="form-group row">
        <label for="price" class="col-sm-3 col-form-label">Enter Price:</label>
        <div class="col-sm-6">
        <div class="input-group mb-2">
            <div class="input-group-prepend">
              <span class="input-group-text">$</span>
            </div>
        <input 
          required
          #price="ngModel"
          name="priceNumber"
          type="number" 
          placeholder="Enter Price" 
          class="form-control" 
          [(ngModel)]="newCoupon.price"
          [min]="0" />
          </div>
          <div class="alert alert-danger" *ngIf="price.touched && price.invalid">
              <div *ngIf="price.errors.required">Price is Required.</div>
              <div *ngIf="price.errors.min">Price should be 0 or higher.</div>
          </div>
        </div>
    </div>
    <div class="form-group row">
        <label for="comment" class="col-sm-3 col-form-label">Enter Image Url:</label>
        <div class="col-sm-8">
        <input 
          #image="ngModel"
          name="image"
          id="image" 
          type="text" 
          placeholder="Enter Image Url" 
          class="form-control" 
          [(ngModel)]="newCoupon.image" 
          [max]="200"/>
        </div>
    </div>  
<!-- <p>
  {{ newCoupon | json }}
</p><br> -->
<div class="col-sm-6">
<button class="btn btn-primary"  (click)="createCoupon()">Create Coupon</button><br><br>
</div>
</form>
</div>

<div class="col-md-6">
  <div class="card" style="width: 22rem;">
    <img *ngIf="newCoupon.image" class="card-img-top" [src]="newCoupon.image">
    <div class="card-body">
      <h4 *ngIf="newCoupon.title" class="card-title">{{ newCoupon.title }}</h4>
      <h5 *ngIf="newCoupon.price" class="card-text">Price: {{ newCoupon.price | currency:'USD' }}</h5>
      <p *ngIf="newCoupon.startDate" class="card-text">Start Date: {{ newCoupon.startDate | date:"dd/MM/yyyy" }}</p>
      <p *ngIf="newCoupon.endDate" class="card-text">End Date: {{ newCoupon.endDate | date:"dd/MM/yyyy" }}</p>
      <p *ngIf="newCoupon.amount" class="card-text">Amount: {{ newCoupon.amount }}</p>
      <p *ngIf="newCoupon.type" class="card-text">Coupon Type: {{ newCoupon.type }}</p>
      <p *ngIf="newCoupon.message" class="card-text">Message: {{ newCoupon.message }}</p>
    </div>
  </div>

</div>

</div>



